{"version":3,"file":"static/js/548.1ce1e029.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/components/MoviesItem/moviesItem.module.css?7f2d","components/MoviesItem/MoviesItem.jsx","../node_modules/nanoid/index.browser.js","pages/SingleMoviePage/SingleMoviePage.module.css","pages/SingleMoviePage/SingleMoviePage.jsx","shared/api/services.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"secList\":\"moviesItem_secList__-KbAX\",\"secListIt\":\"moviesItem_secListIt__NVoZW\"};","import { nanoid } from \"nanoid\";\nimport PropTypes from \"prop-types\";\nimport s from \"./moviesItem.module.css\"\nimport { Link, useLocation } from \"react-router-dom\";\n\nconst MoviesItem = ({ item }) => {\n    const {\n        poster_path,\n        overview,\n        title,\n        vote_average,\n        release_date,\n        genres, } = item;\n    \n    const genresItem = genres.map(item => (\n        <li key={nanoid()}>{item.name}</li>\n    ));\n    const getActiveLink = ({ isActive }) => {\n        return isActive ? s.itemActive : s.item;\n    };\n    const releaseDate = release_date.slice(0, 4)\n    const voteAverage = (vote_average * 10).toFixed(0);\n    const location = useLocation();\n    const comeBack = location.state?.from || '/'\n    \n    return (\n        <>\n            <Link to={comeBack}>Go back</Link>\n            <div className={s.container}>\n                <img\n                    className={s.img}\n                    src={`https://image.tmdb.org/t/p/original${poster_path}`}\n                    alt={title}\n                    width=\"300\"\n                    height=\"400\"\n                />\n                <div >\n                    <h2>{`${title} (${releaseDate})`}</h2>\n                    <p>\n                        USER SCORE: <span className={s.text}>{voteAverage}%</span>\n                    </p>\n                    <p>\n                        OVERVIEW: <span className={s.text}>{overview}</span>\n                    </p>\n                    <p>GENRES:</p>\n                    <ul className={s.list}>\n                        {genresItem}\n                    </ul>\n                </div>\n            </div>\n            <ul className={s.secList}>\n                <li className={s.secListIt}>\n                    <Link className={getActiveLink} to='cast' state={{ from: comeBack }}>\n                        Cast\n                    </Link>\n                </li>\n                <li className={s.secListIt}>\n                    <Link className={getActiveLink} to='reviews' state={{ from: comeBack }}>\n                        Reviews\n                    </Link>\n                </li>\n            </ul>\n        </>\n    );\n};\n\nMoviesItem.defaultProps = {\n  item: [],\n};\n\nMoviesItem.propTypes = {\n    item: PropTypes.shape({\n        poster_path: PropTypes.string.isRequired,\n        overview: PropTypes.string.isRequired,\n        title: PropTypes.string.isRequired,\n        vote_average: PropTypes.number.isRequired,\n        release_date: PropTypes.string.isRequired,\n        genres: PropTypes.arrayOf(\n            PropTypes.shape({\n                name: PropTypes.string.isRequired,\n            })\n        ),\n    }),\n};\nexport default MoviesItem;","export { urlAlphabet } from './url-alphabet/index.js'\nexport let random = bytes => crypto.getRandomValues(new Uint8Array(bytes))\nexport let customRandom = (alphabet, defaultSize, getRandom) => {\n  let mask = (2 << (Math.log(alphabet.length - 1) / Math.LN2)) - 1\n  let step = -~((1.6 * mask * defaultSize) / alphabet.length)\n  return (size = defaultSize) => {\n    let id = ''\n    while (true) {\n      let bytes = getRandom(step)\n      let j = step\n      while (j--) {\n        id += alphabet[bytes[j] & mask] || ''\n        if (id.length === size) return id\n      }\n    }\n  }\n}\nexport let customAlphabet = (alphabet, size = 21) =>\n  customRandom(alphabet, size, random)\nexport let nanoid = (size = 21) =>\n  crypto.getRandomValues(new Uint8Array(size)).reduce((id, byte) => {\n    byte &= 63\n    if (byte < 36) {\n      id += byte.toString(36)\n    } else if (byte < 62) {\n      id += (byte - 26).toString(36).toUpperCase()\n    } else if (byte > 62) {\n      id += '-'\n    } else {\n      id += '_'\n    }\n    return id\n  }, '')\n","// extracted by mini-css-extract-plugin\nexport default {};","import { useState, useEffect } from \"react\";\nimport { useParams, Outlet } from \"react-router-dom\";\nimport MoviesItem from '../../components/MoviesItem';\n\nimport { getMovieById } from '../../shared/api/services';\nimport s from './SingleMoviePage.module.css';\n\nconst SingleMoviePage = () => {\n    \n    const [state, setState] = useState({\n        movie: {},\n        loading: false,\n        error: null,\n    });\n\n    const { movie, loading, error } = state;\n\n\n    const { id: StrId } = useParams();\n  const id = Number(StrId);\n\n    // const location = useLocation();\n\n    //  const goBack = location.state?.from || '/';\n\n    useEffect(() => {\n        const fetchMovies = async () => {\n            setState(p => ({\n                ...p,\n                loading: true,\n            }))\n\n            try {\n                const movieEl = await getMovieById(id);\n                setState((p) => {\n          return { ...p, loading: false, movie: { ...movieEl } };\n        });\n            } catch (error) {\n                setState(p => ({\n                    ...p,\n                    loading: false,\n                    error,\n                \n                }))\n            }\n        }\n        if (id) {\n      fetchMovies()\n    }\n        \n    }, [id]);\n\n//     const getActiveLink = ({isActive}) => {\n//     return isActive ? s.itemActive : s.item;\n// }\n\n    \n    const isMovie = Object.keys(movie).length > 0;\n    return (\n        <>\n            <div className={s.container}>\n                {/* <Link className={s.button} to={goBack}>\n                    Go back\n                </Link> */}\n            \n                {loading && <p>...Loading</p>}\n                {error && <p>Movie not found</p>}\n                {isMovie && <MoviesItem item={movie} />}\n                {/* {isMovie && <NavLink className={getActiveLink} to={`cast`} state={{ from: goBack }}>Cast</NavLink>}\n                {isMovie && <NavLink className={getActiveLink} to={`reviews`} state={{ from: goBack }}>Reviews</NavLink>} */}\n                \n            </div>\n            <Outlet />\n        </>\n    );\n}\n\nexport default SingleMoviePage;","import axios from \"axios\";\n\nconst instance = axios.create({\n  baseURL: \"https://api.themoviedb.org/3/\",\n});\nconst API_KEY = \"1f739ee3b0896acaf022f176c2ecab80\";\n\nexport const getTrendingMovies = async (page = 1) => {\n    const {\n        data: { results },\n    } = await instance.get(\"trending/movie/day\", {\n        params: {\n            api_key: API_KEY,\n            page,\n        },\n    })\n    return results;\n};\n\nexport const getMovieById = async (id) => {\n    const { data } = await instance.get(`movie/${id}`, {\n        params: {\n            api_key: API_KEY,\n        },\n    });\n    return data\n};\n\nexport const searchMovies = async (query, page = 1) => {\n    const { data } = await instance.get('search/movie', {\n        params: {\n            api_key: API_KEY,\n            page,\n            query,\n        },\n    });\n    return data;\n}\n\nexport const getMovieCredits = async (id) => {\n    const { data } = await instance.get(`movie/${id}/credits`, {\n        params: {\n            api_key: API_KEY,\n        },\n    });\n    return data.cast;\n}\n\nexport const getMovieReviews = async (id) => {\n  const { data } = await instance.get(`movie/${id}/reviews`, {\n    params: {\n      api_key: API_KEY,\n    },\n  });\n  return data.results;\n};\n"],"names":["MoviesItem","item","poster_path","overview","title","vote_average","release_date","genresItem","genres","map","name","size","crypto","getRandomValues","Uint8Array","reduce","id","byte","toString","toUpperCase","nanoid","getActiveLink","isActive","s","releaseDate","slice","voteAverage","toFixed","comeBack","useLocation","state","from","to","className","src","alt","width","height","defaultProps","useState","movie","loading","error","setState","StrId","useParams","Number","useEffect","fetchMovies","p","getMovieById","movieEl","isMovie","Object","keys","length","instance","axios","baseURL","API_KEY","getTrendingMovies","page","get","params","api_key","results","data","searchMovies","query","getMovieCredits","cast","getMovieReviews"],"sourceRoot":""}