{"version":3,"file":"static/js/409.baaa1b7d.chunk.js","mappings":"0RACA,GAAgB,UAAY,8BAA8B,KAAO,0B,SCK3DA,EAAa,WACf,OAA0BC,EAAAA,EAAAA,UAAS,CAC/BC,MAAO,GACPC,SAAS,EACTC,MAAO,OAHX,eAAOC,EAAP,KAAcC,EAAd,KAKEC,GAAOC,EAAAA,EAAAA,OACTC,EAAAA,EAAAA,YAAU,WACN,IAAMC,EAAW,mCAAG,2FAChBJ,GAAS,SAAAK,GAAC,yBACHA,GADG,IAENR,SAAS,OAHG,mBAMOS,EAAAA,EAAAA,MANP,OAMNC,EANM,OAOZP,GAAS,SAAAK,GAAC,yBACHA,GADG,IAENT,OAAM,OAAKW,GACXV,SAAS,OAVD,gDAaZG,GAAS,SAAAK,GAAC,yBACHA,GADG,IAENR,SAAS,EACTC,MAAK,UAhBG,yDAAH,qDAoBjBM,MACD,IAEH,IAAQR,EAA0BG,EAA1BH,MAAOC,EAAmBE,EAAnBF,QAASC,EAAUC,EAAVD,MAClBU,EAAWZ,EAAMa,KAAI,gBAAGC,EAAH,EAAGA,GAAIC,EAAP,EAAOA,MAAP,YAA6BC,IAAVD,IAAuB,eAAIE,UAAWC,EAAAA,KAAf,UACjE,SAAC,KAAD,CAAMD,UAAWC,EAAAA,KAAQC,GAAE,kBAAaL,GAAMX,MAAO,CAAEE,KAAAA,GAAvD,SAAiEU,KAD4BD,MAIjG,OACI,iBAAKG,UAAWC,EAAAA,UAAhB,UACKjB,IAAW,sCACXC,IAAS,6CACV,eAAIe,UAAWC,EAAAA,KAAf,SAAwBN,QAKpCd,EAAWsB,aAAe,CACxBpB,MAAO,IAYT,QC/DA,KCaA,EAXiB,WACb,OACI,2BACI,iBAAKiB,UAAWC,EAAAA,UAAhB,WACI,eAAID,UAAWC,EAAAA,MAAf,6BACA,SAAC,EAAD,W,iJCNVG,E,MAAWC,GAAAA,OAAa,CAC5BC,QAAS,kCAELC,EAAU,mCAEHd,EAAiB,mCAAG,2GAAOe,EAAP,+BAAc,EAAd,SAGnBJ,EAASK,IAAI,qBAAsB,CACzCC,OAAQ,CACJC,QAASJ,EACTC,KAAAA,KANqB,uBAEjBI,EAFiB,EAEzBlB,KAAQkB,QAFiB,kBAStBA,GATsB,2CAAH,qDAYjBC,EAAY,mCAAG,WAAOhB,GAAP,yFACDO,EAASK,IAAT,gBAAsBZ,GAAM,CAC/Ca,OAAQ,CACJC,QAASJ,KAHO,uBAChBb,EADgB,EAChBA,KADgB,kBAMjBA,GANiB,2CAAH,sDASZoB,EAAY,mCAAG,WAAOC,GAAP,8FAAcP,EAAd,+BAAqB,EAArB,SACDJ,EAASK,IAAI,eAAgB,CAChDC,OAAQ,CACJC,QAASJ,EACTC,KAAAA,EACAO,MAAAA,KALgB,uBAChBrB,EADgB,EAChBA,KADgB,kBAQjBA,GARiB,2CAAH","sources":["webpack://react-homework-template/./src/modules/MoviesList/MoviesList.module.css?178d","modules/MoviesList/MoviesList.jsx","pages/HomePage/HomePage.module.css","pages/HomePage/HomePage.jsx","shared/api/services.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"container\":\"MoviesList_container__+w4As\",\"list\":\"MoviesList_list__3SYjV\"};","import { useState, useEffect } from 'react';\nimport { Link, useLocation } from 'react-router-dom';\nimport PropTypes from \"prop-types\";\nimport  {getTrendingMovies} from '../../shared/api/services'\nimport s from './MoviesList.module.css';\n\nconst MoviesList = () => {\n    const [state, setState] = useState({\n        items: [],\n        loading: false,\n        error: null,\n    });\nconst from = useLocation();\n    useEffect(() => {\n        const fetchMovies = async () => {\n            setState(p => ({\n                ...p,\n                loading: true,\n            }));\n            try {\n                const data = await getTrendingMovies();\n                setState(p => ({\n                    ...p,\n                    items: [...data],\n                    loading: false,\n                }))\n            } catch (error) {\n                setState(p => ({\n                    ...p,\n                    loading: false,\n                    error,\n                }))\n            }\n        }\n        fetchMovies()\n    }, []);\n\n    const { items, loading, error } = state;\n    const elements = items.map(({ id, title }) => title !== undefined && <li className={s.item} key={id}>\n        <Link className={s.link} to={`/movies/${id}`} state={{ from }}>{ title }</Link>\n    </li> )\n\n    return (\n        <div className={s.container}>\n            {loading && <p>...Loading</p>}\n            {error && <p>Movies not found</p>}\n            <ul className={s.list}>{elements}</ul>\n        </div>\n    )\n}\n\nMoviesList.defaultProps = {\n  items: [],\n};\n\nMoviesList.propTypes = {\n  items: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      title: PropTypes.string.isRequired,\n    })\n  ),\n};\n\nexport default MoviesList;","// extracted by mini-css-extract-plugin\nexport default {};","import MoviesList from '../../modules/MoviesList/MoviesList';\nimport s from './HomePage.module.css';\n\nconst HomePage = () => {\n    return (\n        <main>\n            <div className={s.container}>\n                <h2 className={s.title}>Trending today</h2>\n                <MoviesList />\n            </div>\n        </main>\n    )\n}\n\nexport default HomePage;","import axios from \"axios\";\n\nconst instance = axios.create({\n  baseURL: \"https://api.themoviedb.org/3/\",\n});\nconst API_KEY = \"1f739ee3b0896acaf022f176c2ecab80\";\n\nexport const getTrendingMovies = async (page = 1) => {\n    const {\n        data: { results },\n    } = await instance.get(\"trending/movie/day\", {\n        params: {\n            api_key: API_KEY,\n            page,\n        },\n    })\n    return results;\n};\n\nexport const getMovieById = async (id) => {\n    const { data } = await instance.get(`movie/${id}`, {\n        params: {\n            api_key: API_KEY,\n        },\n    });\n    return data\n};\n\nexport const searchMovies = async (query, page = 1) => {\n    const { data } = await instance.get('search/movie', {\n        params: {\n            api_key: API_KEY,\n            page,\n            query,\n        },\n    });\n    return data;\n}\n\nexport const getMovieCredits = async (id) => {\n    const { data } = await instance.get(`movie/${id}/credits`, {\n        params: {\n            api_key: API_KEY,\n        },\n    });\n    return data.cast;\n}\n\nexport const getMovieReviews = async (id) => {\n  const { data } = await instance.get(`movie/${id}/reviews`, {\n    params: {\n      api_key: API_KEY,\n    },\n  });\n  return data.results;\n};\n"],"names":["MoviesList","useState","items","loading","error","state","setState","from","useLocation","useEffect","fetchMovies","p","getTrendingMovies","data","elements","map","id","title","undefined","className","s","to","defaultProps","instance","axios","baseURL","API_KEY","page","get","params","api_key","results","getMovieById","searchMovies","query"],"sourceRoot":""}